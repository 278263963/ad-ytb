# YT Ads Automator

https://img.shields.io/badge/YouTube-API-red?logo=youtube

https://img.shields.io/badge/Google%2520Ads-API-blue?logo=googleads

https://img.shields.io/badge/Java-11%252B-orange?logo=openjdk

ä¸€ä¸ªé«˜æ€§èƒ½ã€å…¨è‡ªåŠ¨åŒ–çš„Javaåº”ç”¨ç¨‹åºï¼Œç”¨äºæ‰¹é‡ä¸Šä¼ è§†é¢‘åˆ°YouTubeå¹¶è‡ªåŠ¨åœ¨Google Adsä¸­åˆ›å»ºè§†é¢‘å¹¿å‘Šã€‚ä¸“ä¸ºæ•ˆæœè¥é”€ä¸“å®¶å’Œéœ€è¦å¤§è§„æ¨¡æŠ•æ”¾è§†é¢‘å¹¿å‘Šçš„å›¢é˜Ÿè®¾è®¡ã€‚

ğŸš€ æ ¸å¿ƒåŠŸèƒ½
æ‰¹é‡è§†é¢‘ä¸Šä¼ ï¼šæ”¯æŒæ¯æ—¥ä¸Šä¼ 100+å¹¿å‘Šåˆ›æ„è§†é¢‘è‡³YouTubeï¼Œé‡‡ç”¨å¤šçº¿ç¨‹å¹¶å‘å¤„ç†æå‡ä¸Šä¼ æ•ˆç‡

æ™ºèƒ½çŠ¶æ€ç›‘æ§ï¼šåŸºäºè°ƒåº¦å™¨çš„è‡ªåŠ¨è½®è¯¢æœºåˆ¶ï¼Œå®æ—¶ç›‘æ§è§†é¢‘å¤„ç†çŠ¶æ€ï¼Œç›´è‡³è§†é¢‘å¯å…¬å¼€æ’­æ”¾

æ— ç¼å¹¿å‘Šåˆ›å»ºï¼šåœ¨è§†é¢‘å¤„ç†å®Œæˆåï¼Œè‡ªåŠ¨è·å– videoId å¹¶è°ƒç”¨Google Ads APIåˆ›å»ºç›¸åº”çš„è§†é¢‘å¹¿å‘Šç»„å’Œå¹¿å‘Šåˆ›æ„

ä¼ä¸šçº§å…ƒæ•°æ®ç®¡ç†ï¼šæ”¯æŒé€šè¿‡é…ç½®æ–‡ä»¶æ‰¹é‡è®¾ç½®è§†é¢‘æ ‡é¢˜ã€æè¿°ã€æ ‡ç­¾ã€åˆ†ç±»å’Œéšç§çŠ¶æ€

å®¹é”™ä¸é‡è¯•æœºåˆ¶ï¼šå†…ç½®å®Œå–„çš„å¼‚å¸¸å¤„ç†ã€æŒ‡æ•°é€€é¿é‡è¯•ç­–ç•¥å’Œå¤±è´¥ä»»åŠ¡æ¢å¤åŠŸèƒ½

è¯¦ç»†è¿è¡Œæ—¥å¿—ï¼šæä¾›å®Œæ•´çš„æ“ä½œå®¡è®¡æ—¥å¿—ï¼Œä¾¿äºè·Ÿè¸ªæ¯ä¸ªè§†é¢‘çš„å¤„ç†æµæ°´çº¿

ğŸ›  æŠ€æœ¯æ¶æ„
æŠ€æœ¯æ ˆ
è¯­è¨€: Java 11+

æ„å»ºå·¥å…·: Maven 3.6+

æ ¸å¿ƒAPI:

YouTube Data API v3

Google Ads API

HTTPå®¢æˆ·ç«¯: Google API Client Library for Java

JSONå¤„ç†: Gson 2.8+

è°ƒåº¦æ¡†æ¶: Quartz Scheduler

é…ç½®ç®¡ç†: YAML + Typesafe Config

æ—¥å¿—æ¡†æ¶: SLF4J + Logback

ğŸ“Š APIé…é¢æ¶ˆè€—åˆ†æ
æ¯æ—¥é…é¢éœ€æ±‚è®¡ç®—
æ“ä½œç±»å‹	å•ä¸ªè§†é¢‘æ¶ˆè€—	100è§†é¢‘æ¶ˆè€—	é¢‘ç‡
videos.insert	1600 units	160,000 units	ä¸€æ¬¡æ€§
videos.list (çŠ¶æ€æ£€æŸ¥)	1-10 units	10,000 units	æ¯5åˆ†é’Ÿè½®è¯¢
å…ƒæ•°æ®æ›´æ–°	50 units	5,000 units	æŒ‰éœ€
æ€»è®¡ä¼°ç®—	~1650 units	~175,000 units	æ¯æ—¥
é…é¢ä¼˜åŒ–ç­–ç•¥
æ™ºèƒ½è½®è¯¢ï¼šè§†é¢‘å¤„ç†åˆæœŸé™ä½æ£€æŸ¥é¢‘ç‡ï¼Œæ¥è¿‘å®Œæˆæ—¶å¢åŠ é¢‘ç‡

æ‰¹é‡æ“ä½œï¼šåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ä½¿ç”¨æ‰¹é‡APIè¯·æ±‚

æœ¬åœ°ç¼“å­˜ï¼šç¼“å­˜è§†é¢‘å…ƒæ•°æ®å’ŒçŠ¶æ€ï¼Œå‡å°‘é‡å¤APIè°ƒç”¨

è¿æ¥æ± ï¼šå¤ç”¨HTTPè¿æ¥ï¼Œå‡å°‘å»ºç«‹è¿æ¥çš„å¼€é”€

ğŸ—‚ é¡¹ç›®ç»“æ„

src/

â”œâ”€â”€ main/

â”‚   â”œâ”€â”€ java/

â”‚   â”‚   â”œâ”€â”€ com/ytads/automator/

â”‚   â”‚   â”‚   â”œâ”€â”€ YouTubeUploader.java      # YouTubeä¸Šä¼ æœåŠ¡

â”‚   â”‚   â”‚   â”œâ”€â”€ VideoStatusPoller.java    # çŠ¶æ€è½®è¯¢æœåŠ¡

â”‚   â”‚   â”‚   â”œâ”€â”€ AdsCreator.java          # Google Adsåˆ›å»ºæœåŠ¡

â”‚   â”‚   â”‚   â”œâ”€â”€ ConfigManager.java       # é…ç½®ç®¡ç†

â”‚   â”‚   â”‚   â”œâ”€â”€ RetryHandler.java        # é‡è¯•é€»è¾‘

â”‚   â”‚   â”‚   â””â”€â”€ MainApplication.java     # ä¸»åº”ç”¨å…¥å£

â”‚   â”‚   â””â”€â”€ resources/

â”‚   â”‚       â”œâ”€â”€ application.conf         # åº”ç”¨é…ç½®

â”‚   â”‚       â”œâ”€â”€ client_secrets.json      # APIè®¤è¯é…ç½®

â”‚   â”‚       â””â”€â”€ logback.xml             # æ—¥å¿—é…ç½®

â”‚   â””â”€â”€ scripts/

â”‚       â””â”€â”€ upload_batch.sh             # æ‰¹é‡ä¸Šä¼ è„šæœ¬

â””â”€â”€ test/

    â””â”€â”€ java/
    
        â””â”€â”€ integration/                 # é›†æˆæµ‹è¯•
        
âš™ï¸ æ ¸å¿ƒä»£ç ç¤ºä¾‹

YouTubeä¸Šä¼ æœåŠ¡

```java```
public class YouTubeUploader {
    private static final Logger logger = LoggerFactory.getLogger(YouTubeUploader.class);
    
    public String uploadVideo(File videoFile, VideoMetadata metadata) {
        try {
            YouTube youtube = getYouTubeService();
            Video video = new Video();
            VideoSnippet snippet = new VideoSnippet();
            VideoStatus status = new VideoStatus();
            
            snippet.setTitle(metadata.getTitle());
            snippet.setDescription(metadata.getDescription());
            snippet.setTags(metadata.getTags());
            video.setSnippet(snippet);
            
            status.setPrivacyStatus("private"); // å¹¿å‘Šç´ æè®¾ä¸ºç§æœ‰
            video.setStatus(status);
            
            YouTube.Videos.Insert request = youtube.videos()
                .insert("snippet,status", video, 
                        new FileContent("video/*", videoFile));
            
            Video uploadedVideo = request.execute();
            logger.info("è§†é¢‘ä¸Šä¼ æˆåŠŸ: ID={}, Title={}", 
                uploadedVideo.getId(), uploadedVideo.getSnippet().getTitle());
            
            return uploadedVideo.getId();
            
        } catch (GoogleJsonResponseException e) {
            logger.error("YouTube APIé”™è¯¯: {}", e.getDetails().getMessage());
            throw new RuntimeException("ä¸Šä¼ å¤±è´¥", e);
        } catch (IOException e) {
            logger.error("IOé”™è¯¯ during upload", e);
            throw new RuntimeException("ä¸Šä¼ å¤±è´¥", e);
        }
    }
}
```
çŠ¶æ€è½®è¯¢æœåŠ¡
```java```
@Component
public class VideoStatusPoller {
    private final ScheduledExecutorService scheduler = 
        Executors.newScheduledThreadPool(5);
    
    public CompletableFuture<VideoProcessingStatus> pollUntilReady(String videoId) {
        return CompletableFuture.supplyAsync(() -> {
            while (true) {
                try {
                    Video video = getVideoStatus(videoId);
                    String status = video.getStatus().getUploadStatus();
                    
                    if ("processed".equals(status)) {
                        logger.info("è§†é¢‘å¤„ç†å®Œæˆ: {}", videoId);
                        return VideoProcessingStatus.READY;
                    } else if ("failed".equals(status)) {
                        logger.error("è§†é¢‘å¤„ç†å¤±è´¥: {}", videoId);
                        return VideoProcessingStatus.FAILED;
                    }
                    
                    // æŒ‡æ•°é€€é¿ç­–ç•¥
                    Thread.sleep(getNextPollingInterval());
                    
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                    return VideoProcessingStatus.INTERRUPTED;
                } catch (Exception e) {
                    logger.warn("è½®è¯¢å¤±è´¥, é‡è¯•ä¸­: {}", e.getMessage());
                }
            }
        }, scheduler);
    }
}

```
Google Adsåˆ›å»ºæœåŠ¡
```java```
@Service
public class AdsCreator {
    
    public void createVideoAd(String videoId, AdCampaignConfig config) {
        try (GoogleAdsClient googleAdsClient = GoogleAdsClient.newBuilder()
            .fromPropertiesFile("google-ads.properties")
            .build()) {
            
            // åˆ›å»ºè§†é¢‘å¹¿å‘Šç´ æ
            String adResourceName = createVideoAdResource(googleAdsClient, videoId, config);
            logger.info("å¹¿å‘Šç´ æåˆ›å»ºæˆåŠŸ: {}", adResourceName);
            
            // åˆ›å»ºå¹¿å‘Šç»„å¹¶å…³è”ç´ æ
            String adGroupResourceName = createAdGroup(googleAdsClient, config);
            associateAdWithGroup(googleAdsClient, adResourceName, adGroupResourceName);
            
            logger.info("è§†é¢‘å¹¿å‘Šåˆ›å»ºå®Œæˆ: videoId={}, adGroup={}", 
                videoId, adGroupResourceName);
                
        } catch (GoogleAdsException gae) {
            logger.error("Google Ads APIè¯·æ±‚å¤±è´¥: {}", gae.getGoogleAdsFailure());
            throw new RuntimeException("å¹¿å‘Šåˆ›å»ºå¤±è´¥", gae);
        }
    }
}
```
ğŸ”§ å®‰è£…ä¸é…ç½®
å‰ç½®è¦æ±‚
Java 11 æˆ–æ›´é«˜ç‰ˆæœ¬

Maven 3.6+

YouTube Data API å‡­æ®

Google Ads API å¼€å‘è€…ä»¤ç‰Œ

æœ‰æ•ˆçš„OAuth 2.0å®¢æˆ·ç«¯ID

é…ç½®è®¤è¯
åœ¨Google Cloud Consoleä¸­å¯ç”¨YouTube Data API v3å’ŒGoogle Ads API

ä¸‹è½½OAuth 2.0å®¢æˆ·ç«¯å‡­æ®ï¼Œä¿å­˜ä¸º src/main/resources/client_secrets.json

é…ç½®Google Ads APIå±æ€§æ–‡ä»¶ google-ads.properties

ğŸ“ˆ ä½¿ç”¨ç¤ºä¾‹
æ‰¹é‡ä¸Šä¼ æ‰§è¡Œ
```java```
public class BatchUploadExample {
    public static void main(String[] args) {
        YTAdsAutomator automator = new YTAdsAutomator();
        
        // é…ç½®æ‰¹é‡ä»»åŠ¡
        BatchUploadConfig config = BatchUploadConfig.builder()
            .videoDirectory("/path/to/ad/creatives")
            .metadataFile("/path/to/metadata.csv")
            .maxConcurrentUploads(5)
            .pollingInterval(Duration.ofMinutes(5))
            .build();
        
        // æ‰§è¡Œæ‰¹é‡ä¸Šä¼ å’Œå¹¿å‘Šåˆ›å»º
        BatchUploadResult result = automator.executeBatchUpload(config);
        
        logger.info("æ‰¹é‡ä»»åŠ¡å®Œæˆ: æˆåŠŸ={}, å¤±è´¥={}", 
            result.getSuccessCount(), result.getFailureCount());
    }
}
```
ğŸ¤ ä¸ºé…é¢ç”³è¯·æä¾›çš„è¯æ˜
æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªçœŸå®è¿è¡Œçš„ç”Ÿäº§çº§åº”ç”¨ï¼Œå½“å‰çš„APIé…é¢é™åˆ¶ä¸¥é‡å½±å“äº†æˆ‘ä»¬çš„å¹¿å‘Šè¿è¥æ•ˆç‡ã€‚æ¯æ—¥10,000çš„é…é¢åœ¨å¤„ç†çº¦6ä¸ªè§†é¢‘åå°±ä¼šè€—å°½ï¼Œæ— æ³•æ”¯æŒæˆ‘ä»¬ä¸ºå®¢æˆ·ç®¡ç†100+è§†é¢‘å¹¿å‘Šçš„éœ€æ±‚ã€‚

é€šè¿‡æ­¤READMEå’Œé…å¥—çš„ä»£ç åº“ï¼Œæˆ‘ä»¬è¯æ˜äº†ï¼š

æŠ€æœ¯å¯è¡Œæ€§ï¼šå®Œæ•´çš„Javaå®ç°ï¼ŒåŒ…å«é”™è¯¯å¤„ç†å’Œæœ€ä½³å®è·µ

ä¸šåŠ¡å¿…è¦æ€§ï¼šæ¸…æ™°çš„å¹¿å‘Šè‡ªåŠ¨åŒ–æµæ°´çº¿ï¼ŒæœåŠ¡äºçœŸå®çš„è¥é”€éœ€æ±‚

é…é¢åˆç†æ€§ï¼šåŸºäºå®é™…ä¸šåŠ¡é‡çš„è¯¦ç»†é…é¢è®¡ç®—

åˆè§„æ‰¿è¯ºï¼šä¸¥æ ¼éµå®ˆYouTubeå’ŒGoogle Ads APIçš„æœåŠ¡æ¡æ¬¾

æˆ‘ä»¬æ³è¯·å®¡æ ¸å›¢é˜Ÿæ‰¹å‡†æˆ‘ä»¬çš„é…é¢æå‡ç”³è¯·ï¼Œä»¥æ”¯æŒæˆ‘ä»¬åœ¨Googleå¹¿å‘Šç”Ÿæ€ä¸­çš„æŒç»­æŠ•å…¥å’Œå¢é•¿ã€‚

ğŸ“„ è®¸å¯è¯
MIT License - è¯¦è§ LICENSE æ–‡ä»¶ã€‚

æ³¨æ„: åœ¨å®é™…ä½¿ç”¨å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²è·å¾—æ‰€æœ‰å¿…è¦çš„APIæƒé™å¹¶éµå®ˆYouTube APIæœåŠ¡æ¡æ¬¾å’ŒGoogle Ads APIæ”¿ç­–ã€‚
